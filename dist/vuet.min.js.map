{"version":3,"file":"vuet.min.js","sources":["../src/vuet-module.js","../src/vuet.js","../src/vuet-static.js","../src/index.js"],"sourcesContent":["export default class VuetModule {\n  constructor (opts) {\n    this.methods = {}\n    Object.keys(opts).forEach(k => {\n      if (typeof opts[k] === 'function') {\n        this.methods[k] = opts[k].bind(this)\n      }\n    })\n    this.state = this.methods.data()\n  }\n}\n","import VuetModule from './vuet-module'\n\nexport default class Vuet {\n  constructor () {\n    this.modules = {}\n    this.app = new Vuet.Vue({\n      data: {\n        modules: this.modules\n      }\n    })\n  }\n  _init () {\n  }\n  register (path, opts) {\n    const vtm = new VuetModule(opts)\n    Vuet.Vue.set(this.modules, path, vtm.methods)\n    this.modules[path] = vtm\n  }\n  destroy () {\n\n  }\n}\n","export default function (Vuet) {\n  Object.assign(Vuet, {\n    installed: false,\n    options: {\n      rules: {}\n    },\n    install (Vue) {\n      if (this.installed) return this\n      this.installed = true\n      this.Vue = Vue\n      Object.defineProperty(Vue.prototype, '$vuet', {\n        get () { return this.$root._vuet }\n      })\n      Vue.mixin({\n        beforeCreate () {\n          if (typeof this.$options.vuet !== 'undefined') {\n            this._vuet = this.$options.vuet\n            // this._vuet._init(this)\n          }\n        },\n        destroyed () {\n          if (typeof this.$options.vuet !== 'undefined') {\n            this._vuet = this.$options.vuet\n            this._vuet.destroy(this)\n          }\n        }\n      })\n      return this\n    },\n    mapModules (opts) {\n      const mixins = Object.keys(opts).map(name => {\n        const path = opts[name]\n        return {\n          computed: {\n            [name]: {\n              get () {\n                return this.$vuet.modules[path].state\n              },\n              set (val) {\n                this.$vuet.modules[path].state = val\n              }\n            },\n            [`$${name}`]: {\n              get () {\n                return this.$vuet.modules[path].methods\n              },\n              set () { }\n            }\n          }\n        }\n      })\n      return {\n        mixins\n      }\n    },\n    mapRules () {\n      return {}\n    }\n  })\n}\n","import Vuet from './vuet'\nimport VuetStatic from './vuet-static'\n\nVuetStatic(Vuet)\n\nexport default Vuet\n"],"names":["VuetModule","opts","methods","keys","forEach","k","bind","state","this","data","Vuet","modules","app","Vue","path","vtm","set","assign","installed","defineProperty","prototype","$root","_vuet","mixin","$options","vuet","destroy","Object","map","name","$vuet","val"],"mappings":"gpBAAqBA,EACnB,WAAaC,6BACNC,kBACEC,KAAKF,GAAMG,QAAQ,YACD,kBAAZH,GAAKI,OACTH,QAAQG,GAAKJ,EAAKI,GAAGC,gBAGzBC,MAAQC,KAAKN,QAAQO,QCNTC,yCAEZC,gBACAC,IAAM,GAAIF,GAAKG,mBAEPL,KAAKG,uFAMVG,EAAMb,MACRc,GAAM,GAAIf,GAAWC,KACtBY,IAAIG,IAAIR,KAAKG,QAASG,EAAMC,EAAIb,cAChCS,QAAQG,GAAQC,+CChBV,SAAUL,UAChBO,OAAOP,cACD,sCAIFG,SACHL,MAAKU,UAAkBV,WACtBU,WAAY,OACZL,IAAMA,SACJM,eAAeN,EAAIO,UAAW,8BACnBZ,MAAKa,MAAMC,WAEzBC,mCAEkC,KAAvBf,KAAKgB,SAASC,YAClBH,MAAQd,KAAKgB,SAASC,gCAKK,KAAvBjB,KAAKgB,SAASC,YAClBH,MAAQd,KAAKgB,SAASC,UACtBH,MAAMI,QAAQlB,UAIlBA,2BAEGP,iBACK0B,OAAOxB,KAAKF,GAAM2B,IAAI,kBAC7Bd,EAAOb,EAAK4B,6BAGbA,wBAEUrB,MAAKsB,MAAMnB,QAAQG,GAAMP,oBAE7BwB,QACED,MAAMnB,QAAQG,GAAMP,MAAQwB,aAGhCF,wBAEMrB,MAAKsB,MAAMnB,QAAQG,GAAMZ,qECzCrCQ"}