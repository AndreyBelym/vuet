{"version":3,"file":"vuet.min.js","sources":["../src/vuet-module.js","../src/vuet.js"],"sourcesContent":["export default class VuetModule {\n  constructor (opts) {\n    this.methods = {}\n    Object.keys(opts).forEach(k => {\n      if (typeof opts[k] === 'function') {\n        this.methods[k] = opts[k].bind(this)\n      }\n    })\n    this.state = this.methods.data()\n  }\n}\n","import VuetModule from './vuet-module'\n\nexport let _Vue\n\nexport default class Vuet {\n  static install (Vue) {\n    if (this.installed) return this\n    this.installed = true\n    _Vue = Vue\n    Object.defineProperty(Vue.prototype, '$vuet', {\n      get () { return this.$root._vuet }\n    })\n    Vue.mixin({\n      beforeCreate () {\n        if (typeof this.$options.vuet !== 'undefined') {\n          this._vuet = this.$options.vuet\n          // this._vuet._init(this)\n        }\n      },\n      destroyed () {\n        if (typeof this.$options.vuet !== 'undefined') {\n          this._vuet = this.$options.vuet\n          this._vuet.destroy(this)\n        }\n      }\n    })\n    return this\n  }\n  static mapModules (opts) {\n    const mixins = Object.keys(opts).map(name => {\n      const path = opts[name]\n      return {\n        computed: {\n          [name]: {\n            get () {\n              return this.$vuet.modules[path].state\n            },\n            set (val) {\n              this.$vuet.modules[path].state = val\n            }\n          },\n          [`$${name}`]: {\n            get () {\n              return this.$vuet.modules[path].methods\n            },\n            set () {}\n          }\n        }\n      }\n    })\n    return {\n      mixins\n    }\n  }\n  static mapRules () {\n    return {}\n  }\n  constructor () {\n    this.modules = {}\n    this.app = new _Vue({\n      data: {\n        modules: this.modules\n      }\n    })\n  }\n  _init () {\n  }\n  register (path, opts) {\n    const vtm = new VuetModule(opts)\n    _Vue.set(this.modules, path, vtm.methods)\n    this.modules[path] = vtm\n  }\n  destroy () {\n\n  }\n}\n"],"names":["VuetModule","opts","methods","keys","forEach","k","bind","state","this","data","_Vue","Vuet","modules","app","Vue","installed","defineProperty","prototype","$root","_vuet","mixin","$options","vuet","destroy","Object","map","path","name","$vuet","val","vtm","set"],"mappings":"gpBAAqBA,EACnB,WAAaC,6BACNC,kBACEC,KAAKF,GAAMG,QAAQ,YACD,kBAAZH,GAAKI,OACTH,QAAQG,GAAKJ,EAAKI,GAAGC,gBAGzBC,MAAQC,KAAKN,QAAQO,QCNnBC,SAEUC,yCAsDZC,gBACAC,IAAM,GAAIH,kBAEFF,KAAKI,0DAxDJE,SACVN,MAAKO,UAAkBP,WACtBO,WAAY,IACVD,SACAE,eAAeF,EAAIG,UAAW,8BACnBT,MAAKU,MAAMC,WAEzBC,mCAEkC,KAAvBZ,KAAKa,SAASC,YAClBH,MAAQX,KAAKa,SAASC,gCAKK,KAAvBd,KAAKa,SAASC,YAClBH,MAAQX,KAAKa,SAASC,UACtBH,MAAMI,QAAQf,UAIlBA,yCAEUP,iBACFuB,OAAOrB,KAAKF,GAAMwB,IAAI,kBAC7BC,EAAOzB,EAAK0B,6BAGbA,wBAEUnB,MAAKoB,MAAMhB,QAAQc,GAAMnB,oBAE7BsB,QACED,MAAMhB,QAAQc,GAAMnB,MAAQsB,aAGhCF,wBAEMnB,MAAKoB,MAAMhB,QAAQc,GAAMxB,wJAwBlCwB,EAAMzB,MACR6B,GAAM,GAAI9B,GAAWC,KACtB8B,IAAIvB,KAAKI,QAASc,EAAMI,EAAI5B,cAC5BU,QAAQc,GAAQI"}