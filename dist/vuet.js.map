{"version":3,"file":"vuet.js","sources":["../src/vuet-module.js","../src/vuet.js"],"sourcesContent":["export default class VuetModule {\n  constructor (opts) {\n    this.methods = {}\n    Object.keys(opts).forEach(k => {\n      if (typeof opts[k] === 'function') {\n        this.methods[k] = opts[k].bind(this)\n      }\n    })\n    this.state = this.methods.data()\n  }\n}\n","import VuetModule from './vuet-module'\n\nexport let _Vue\n\nexport default class Vuet {\n  static install (Vue) {\n    if (this.installed) return this\n    this.installed = true\n    _Vue = Vue\n    Object.defineProperty(Vue.prototype, '$vuet', {\n      get () { return this.$root._vuet }\n    })\n    Vue.mixin({\n      beforeCreate () {\n        if (typeof this.$options.vuet !== 'undefined') {\n          this._vuet = this.$options.vuet\n          // this._vuet._init(this)\n        }\n      },\n      destroyed () {\n        if (typeof this.$options.vuet !== 'undefined') {\n          this._vuet = this.$options.vuet\n          this._vuet.destroy(this)\n        }\n      }\n    })\n    return this\n  }\n  static mapModules (opts) {\n    const mixins = Object.keys(opts).map(name => {\n      const path = opts[name]\n      return {\n        computed: {\n          [name]: {\n            get () {\n              return this.$vuet.modules[path].state\n            },\n            set (val) {\n              this.$vuet.modules[path].state = val\n            }\n          },\n          [`$${name}`]: {\n            get () {\n              return this.$vuet.modules[path].methods\n            },\n            set () {}\n          }\n        }\n      }\n    })\n    return {\n      mixins\n    }\n  }\n  static mapRules () {\n    return {}\n  }\n  constructor () {\n    this.modules = {}\n    this.app = new _Vue({\n      data: {\n        modules: this.modules\n      }\n    })\n  }\n  _init () {\n  }\n  register (path, opts) {\n    const vtm = new VuetModule(opts)\n    _Vue.set(this.modules, path, vtm.methods)\n    this.modules[path] = vtm\n  }\n  destroy () {\n\n  }\n}\n"],"names":["VuetModule","opts","methods","keys","forEach","k","bind","state","data","_Vue","Vuet","Vue","installed","defineProperty","prototype","$root","_vuet","mixin","$options","vuet","destroy","mixins","Object","map","path","name","$vuet","modules","val","app","vtm","set"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA,aACnB,oBAAaC,IAAb,EAAmB;;;;;OACZC,OAAL,GAAe,EAAf;SACOC,IAAP,CAAYF,IAAZ,EAAkBG,OAAlB,CAA0B,aAAK;QACzB,OAAOH,KAAKI,CAAL,CAAP,KAAmB,UAAvB,EAAmC;YAC5BH,OAAL,CAAaG,CAAb,IAAkBJ,KAAKI,CAAL,EAAQC,IAAR,OAAlB;;GAFJ;OAKKC,KAAL,GAAa,KAAKL,OAAL,CAAaM,IAAb,EAAb;;;ACNG,IAAIC,aAAJ;;IAEcC;;;4BACHC,KAAK;UACf,KAAKC,SAAT,EAAoB,OAAO,IAAP;WACfA,SAAL,GAAiB,IAAjB;aACOD,GAAP;aACOE,cAAP,CAAsBF,IAAIG,SAA1B,EAAqC,OAArC,EAA8C;WAAA,oBACrC;iBAAS,KAAKC,KAAL,CAAWC,KAAlB;;OADX;UAGIC,KAAJ,CAAU;oBAAA,0BACQ;cACV,OAAO,KAAKC,QAAL,CAAcC,IAArB,KAA8B,WAAlC,EAA+C;iBACxCH,KAAL,GAAa,KAAKE,QAAL,CAAcC,IAA3B;;;SAHI;iBAAA,uBAOK;cACP,OAAO,KAAKD,QAAL,CAAcC,IAArB,KAA8B,WAAlC,EAA+C;iBACxCH,KAAL,GAAa,KAAKE,QAAL,CAAcC,IAA3B;iBACKH,KAAL,CAAWI,OAAX,CAAmB,IAAnB;;;OAVN;aAcO,IAAP;;;;+BAEiBnB,MAAM;UACjBoB,SAASC,OAAOnB,IAAP,CAAYF,IAAZ,EAAkBsB,GAAlB,CAAsB,gBAAQ;;;YACrCC,OAAOvB,KAAKwB,IAAL,CAAb;eACO;+DAEFA,IADH,EACU;eAAA,oBACC;qBACE,KAAKC,KAAL,CAAWC,OAAX,CAAmBH,IAAnB,EAAyBjB,KAAhC;aAFI;eAAA,kBAIDqB,GAJC,EAII;mBACHF,KAAL,CAAWC,OAAX,CAAmBH,IAAnB,EAAyBjB,KAAzB,GAAiCqB,GAAjC;;WANN,mCASOH,IATP,EASgB;eAAA,oBACL;qBACE,KAAKC,KAAL,CAAWC,OAAX,CAAmBH,IAAnB,EAAyBtB,OAAhC;aAFU;eAAA,oBAIL;WAbX;SADF;OAFa,CAAf;aAqBO;;OAAP;;;;+BAIiB;aACV,EAAP;;;;kBAEa;;;SACRyB,OAAL,GAAe,EAAf;SACKE,GAAL,GAAW,IAAIpB,IAAJ,CAAS;YACZ;iBACK,KAAKkB;;KAFP,CAAX;;;;;4BAMO;;;6BAECH,MAAMvB,MAAM;UACd6B,MAAM,IAAI9B,UAAJ,CAAeC,IAAf,CAAZ;WACK8B,GAAL,CAAS,KAAKJ,OAAd,EAAuBH,IAAvB,EAA6BM,IAAI5B,OAAjC;WACKyB,OAAL,CAAaH,IAAb,IAAqBM,GAArB;;;;8BAES;;;;;;;;;"}