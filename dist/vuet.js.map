{"version":3,"file":"vuet.js","sources":["../src/vuet-module.js","../src/vuet.js","../src/vuet-static.js","../src/index.js"],"sourcesContent":["export default class VuetModule {\n  constructor (opts) {\n    this.methods = {}\n    Object.keys(opts).forEach(k => {\n      if (typeof opts[k] === 'function') {\n        this.methods[k] = opts[k].bind(this)\n      }\n    })\n    this.state = this.methods.data()\n  }\n}\n","import VuetModule from './vuet-module'\n\nexport default class Vuet {\n  constructor () {\n    this.modules = {}\n    this.app = new Vuet.Vue({\n      data: {\n        modules: this.modules\n      }\n    })\n  }\n  _init () {\n  }\n  register (path, opts) {\n    const vtm = new VuetModule(opts)\n    Vuet.Vue.set(this.modules, path, vtm.methods)\n    this.modules[path] = vtm\n  }\n  destroy () {\n\n  }\n}\n","export default function (Vuet) {\n  Object.assign(Vuet, {\n    installed: false,\n    options: {\n      rules: {}\n    },\n    install (Vue) {\n      if (this.installed) return this\n      this.installed = true\n      this.Vue = Vue\n      Object.defineProperty(Vue.prototype, '$vuet', {\n        get () { return this.$root._vuet }\n      })\n      Vue.mixin({\n        beforeCreate () {\n          if (typeof this.$options.vuet !== 'undefined') {\n            this._vuet = this.$options.vuet\n            // this._vuet._init(this)\n          }\n        },\n        destroyed () {\n          if (typeof this.$options.vuet !== 'undefined') {\n            this._vuet = this.$options.vuet\n            this._vuet.destroy(this)\n          }\n        }\n      })\n      return this\n    },\n    mapModules (opts) {\n      const mixins = Object.keys(opts).map(name => {\n        const path = opts[name]\n        return {\n          computed: {\n            [name]: {\n              get () {\n                return this.$vuet.modules[path].state\n              },\n              set (val) {\n                this.$vuet.modules[path].state = val\n              }\n            },\n            [`$${name}`]: {\n              get () {\n                return this.$vuet.modules[path].methods\n              },\n              set () { }\n            }\n          }\n        }\n      })\n      return {\n        mixins\n      }\n    },\n    mapRules () {\n      return {}\n    }\n  })\n}\n","import Vuet from './vuet'\nimport VuetStatic from './vuet-static'\n\nVuetStatic(Vuet)\n\nexport default Vuet\n"],"names":["VuetModule","opts","methods","keys","forEach","k","bind","state","data","Vuet","modules","app","Vue","path","vtm","set","assign","installed","defineProperty","prototype","$root","_vuet","mixin","$options","vuet","destroy","mixins","Object","map","name","$vuet","val","VuetStatic"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA,aACnB,oBAAaC,IAAb,EAAmB;;;;;OACZC,OAAL,GAAe,EAAf;SACOC,IAAP,CAAYF,IAAZ,EAAkBG,OAAlB,CAA0B,aAAK;QACzB,OAAOH,KAAKI,CAAL,CAAP,KAAmB,UAAvB,EAAmC;YAC5BH,OAAL,CAAaG,CAAb,IAAkBJ,KAAKI,CAAL,EAAQC,IAAR,OAAlB;;GAFJ;OAKKC,KAAL,GAAa,KAAKL,OAAL,CAAaM,IAAb,EAAb;;;ICNiBC;kBACJ;;;SACRC,OAAL,GAAe,EAAf;SACKC,GAAL,GAAW,IAAIF,KAAKG,GAAT,CAAa;YAChB;iBACK,KAAKF;;KAFP,CAAX;;;;;4BAMO;;;6BAECG,MAAMZ,MAAM;UACda,MAAM,IAAId,UAAJ,CAAeC,IAAf,CAAZ;WACKW,GAAL,CAASG,GAAT,CAAa,KAAKL,OAAlB,EAA2BG,IAA3B,EAAiCC,IAAIZ,OAArC;WACKQ,OAAL,CAAaG,IAAb,IAAqBC,GAArB;;;;8BAES;;;;;AClBb,iBAAe,UAAUL,IAAV,EAAgB;SACtBO,MAAP,CAAcP,IAAd,EAAoB;eACP,KADO;aAET;aACA;KAHS;WAAA,mBAKTG,GALS,EAKJ;UACR,KAAKK,SAAT,EAAoB,OAAO,IAAP;WACfA,SAAL,GAAiB,IAAjB;WACKL,GAAL,GAAWA,GAAX;aACOM,cAAP,CAAsBN,IAAIO,SAA1B,EAAqC,OAArC,EAA8C;WAAA,oBACrC;iBAAS,KAAKC,KAAL,CAAWC,KAAlB;;OADX;UAGIC,KAAJ,CAAU;oBAAA,0BACQ;cACV,OAAO,KAAKC,QAAL,CAAcC,IAArB,KAA8B,WAAlC,EAA+C;iBACxCH,KAAL,GAAa,KAAKE,QAAL,CAAcC,IAA3B;;;SAHI;iBAAA,uBAOK;cACP,OAAO,KAAKD,QAAL,CAAcC,IAArB,KAA8B,WAAlC,EAA+C;iBACxCH,KAAL,GAAa,KAAKE,QAAL,CAAcC,IAA3B;iBACKH,KAAL,CAAWI,OAAX,CAAmB,IAAnB;;;OAVN;aAcO,IAAP;KA1BgB;cAAA,sBA4BNxB,IA5BM,EA4BA;UACVyB,SAASC,OAAOxB,IAAP,CAAYF,IAAZ,EAAkB2B,GAAlB,CAAsB,gBAAQ;;;YACrCf,OAAOZ,KAAK4B,IAAL,CAAb;eACO;+DAEFA,IADH,EACU;eAAA,oBACC;qBACE,KAAKC,KAAL,CAAWpB,OAAX,CAAmBG,IAAnB,EAAyBN,KAAhC;aAFI;eAAA,kBAIDwB,GAJC,EAII;mBACHD,KAAL,CAAWpB,OAAX,CAAmBG,IAAnB,EAAyBN,KAAzB,GAAiCwB,GAAjC;;WANN,mCASOF,IATP,EASgB;eAAA,oBACL;qBACE,KAAKC,KAAL,CAAWpB,OAAX,CAAmBG,IAAnB,EAAyBX,OAAhC;aAFU;eAAA,oBAIL;WAbX;SADF;OAFa,CAAf;aAqBO;;OAAP;KAlDgB;YAAA,sBAsDN;aACH,EAAP;;GAvDJ;;;ACEF8B,WAAWvB,MAAX,EAEA;;;;;;"}